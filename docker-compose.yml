version: "3.8"

services:
  orchestrator:
    build:
      context: .
    container_name: orchestrator
    ports:
      - "8080:80"
    environment:
      TECHNICAL_AGENT_URL: http://technical-agent:8002/analyze
      FUNDAMENTAL_AGENT_URL: http://fundamental-agent:8001/analyze
      DATABASE_AGENT_URL: http://database-agent:8003
    depends_on:
      - technical-agent
      - fundamental-agent
      - database-agent
    networks:
      - agent-network

  technical-agent:
    image: your-dockerhub/technical-agent:latest
    container_name: technical-agent
    ports:
      - "8002:8002"
    networks:
      - agent-network

  fundamental-agent:
    image: your-dockerhub/fundamental-agent:latest
    container_name: fundamental-agent
    ports:
      - "8001:8001"
    networks:
      - agent-network

  database-agent:
    image: your-dockerhub/database-agent:latest
    container_name: database-agent
    ports:
      - "8003:8003"
    networks:
      - agent-network

networks:
  agent-network:
    driver: bridge